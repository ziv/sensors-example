import{Ja as u,Ka as f,Ta as i,U as b,Ua as e,V as x,Va as m,Wa as E,Ya as v,Za as g,aa as c,bb as l,cb as s,eb as o,gb as d,na as a,xa as _}from"./chunk-DEVMJMW7.js";function M(r,n){r&1&&(i(0,"div",1)(1,"p"),o(2,"\u26A0\uFE0F Gyroscope is not supported on this device"),e()())}function P(r,n){if(r&1){let t=E();i(0,"div",2)(1,"p"),o(2,"This app needs permission to access device motion."),e(),i(3,"button",4),v("click",function(){b(t);let h=g();return x(h.requestPermission())}),o(4," Grant Permission "),e()()}}function O(r,n){if(r&1&&(i(0,"div",23)(1,"h3"),o(2,"Rotation Rate"),e(),i(3,"div",29)(4,"div",30)(5,"label"),o(6,"Alpha Rate:"),e(),i(7,"span"),o(8),e(),m(9,"div",31),e(),i(10,"div",30)(11,"label"),o(12,"Beta Rate:"),e(),i(13,"span"),o(14),e(),m(15,"div",31),e(),i(16,"div",30)(17,"label"),o(18,"Gamma Rate:"),e(),i(19,"span"),o(20),e(),m(21,"div",31),e()()()),r&2){let t=g(2);a(8),d("",(t.rotationRate().alpha||0).toFixed(1)," \xB0/s"),a(),s("active",t.Math.abs(t.rotationRate().alpha||0)>10),a(5),d("",(t.rotationRate().beta||0).toFixed(1)," \xB0/s"),a(),s("active",t.Math.abs(t.rotationRate().beta||0)>10),a(5),d("",(t.rotationRate().gamma||0).toFixed(1)," \xB0/s"),a(),s("active",t.Math.abs(t.rotationRate().gamma||0)>10)}}function y(r,n){if(r&1){let t=E();i(0,"div",3)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),o(5," \u{1F504} "),e()(),i(6,"div",9),m(7,"div",10)(8,"div",11)(9,"div",12),e()(),i(10,"div",13)(11,"div",14)(12,"label"),o(13,"Alpha (Z):"),e(),i(14,"div",15),m(15,"div",16),e(),i(16,"span"),o(17),e()(),i(18,"div",14)(19,"label"),o(20,"Beta (X):"),e(),i(21,"div",15),m(22,"div",17),e(),i(23,"span"),o(24),e()(),i(25,"div",14)(26,"label"),o(27,"Gamma (Y):"),e(),i(28,"div",15),m(29,"div",18),e(),i(30,"span"),o(31),e()()()(),i(32,"div",19)(33,"div",20)(34,"label"),o(35,"Angular Velocity:"),e(),i(36,"span",21),o(37),e()(),i(38,"div",22)(39,"label"),o(40,"Alpha (Z-axis):"),e(),i(41,"span"),o(42),e()(),i(43,"div",22)(44,"label"),o(45,"Beta (X-axis):"),e(),i(46,"span"),o(47),e()(),i(48,"div",22)(49,"label"),o(50,"Gamma (Y-axis):"),e(),i(51,"span"),o(52),e()(),i(53,"div",22)(54,"label"),o(55,"Rotation State:"),e(),i(56,"span"),o(57),e()()(),u(58,O,22,9,"div",23),i(59,"div",24)(60,"h3"),o(61,"Understanding Gyroscope"),e(),i(62,"div",25)(63,"div",26)(64,"strong"),o(65,"Alpha (Z-axis):"),e(),o(66," Rotation around vertical axis (0\xB0 to 360\xB0) "),e(),i(67,"div",26)(68,"strong"),o(69,"Beta (X-axis):"),e(),o(70," Front-to-back tilt (-180\xB0 to 180\xB0) "),e(),i(71,"div",26)(72,"strong"),o(73,"Gamma (Y-axis):"),e(),o(74," Left-to-right tilt (-90\xB0 to 90\xB0) "),e(),i(75,"div",26)(76,"strong"),o(77,"Rotation Rate:"),e(),o(78," Speed of rotation in degrees per second "),e()()(),i(79,"div",27)(80,"button",28),v("click",function(){b(t);let h=g();return x(h.resetCalibration())}),o(81," \u{1F3AF} Reset Orientation "),e()()()}if(r&2){let t=g();a(4),l("transform",t.getSphereTransform()),a(3),l("transform","rotateY("+(t.rotation().alpha||0)+"deg)"),a(),l("transform","rotateX("+(t.rotation().beta||0)+"deg)"),a(),l("transform","rotateZ("+(t.rotation().gamma||0)+"deg)"),a(6),l("width",t.Math.abs((t.rotation().alpha||0)/360*100),"%"),a(2),d("",(t.rotation().alpha||0).toFixed(1),"\xB0"),a(5),l("width",t.Math.abs((t.rotation().beta||0)/180*100),"%"),a(2),d("",(t.rotation().beta||0).toFixed(1),"\xB0"),a(5),l("width",t.Math.abs((t.rotation().gamma||0)/90*100),"%"),a(2),d("",(t.rotation().gamma||0).toFixed(1),"\xB0"),a(6),d("",t.totalVelocity().toFixed(1)," \xB0/s"),a(4),s("active",t.Math.abs(t.rotation().alpha||0)>30),a(),d(" ",(t.rotation().alpha||0).toFixed(1),"\xB0 "),a(4),s("active",t.Math.abs(t.rotation().beta||0)>30),a(),d(" ",(t.rotation().beta||0).toFixed(1),"\xB0 "),a(4),s("active",t.Math.abs(t.rotation().gamma||0)>30),a(),d(" ",(t.rotation().gamma||0).toFixed(1),"\xB0 "),a(4),s("active",t.isRotating()),a(),d(" ",t.getRotationState()," "),a(),f(t.rotationRate().alpha!==null?58:-1)}}var C=class r{supported=c(!1);hasPermission=c(!1);rotation=c({alpha:0,beta:0,gamma:0});rotationRate=c({alpha:null,beta:null,gamma:null});Math=Math;calibrationOffset={alpha:0,beta:0,gamma:0};ngOnInit(){this.checkSupport()}ngOnDestroy(){this.stopListening()}checkSupport(){this.supported.set("DeviceOrientationEvent"in window||"DeviceMotionEvent"in window),this.supported()&&this.requestPermission()}async requestPermission(){try{let n="granted";typeof DeviceOrientationEvent.requestPermission=="function"&&(n=await DeviceOrientationEvent.requestPermission()),n==="granted"&&(this.hasPermission.set(!0),this.startListening())}catch(n){console.error("Permission denied:",n)}}startListening(){window.addEventListener("deviceorientation",this.handleOrientation.bind(this)),window.addEventListener("devicemotion",this.handleMotion.bind(this))}stopListening(){window.removeEventListener("deviceorientation",this.handleOrientation.bind(this)),window.removeEventListener("devicemotion",this.handleMotion.bind(this))}handleOrientation(n){n.alpha!==null&&n.beta!==null&&n.gamma!==null&&this.rotation.set({alpha:this.normalizeAngle(n.alpha-this.calibrationOffset.alpha),beta:this.normalizeAngle(n.beta-this.calibrationOffset.beta,180),gamma:this.normalizeAngle(n.gamma-this.calibrationOffset.gamma,90)})}handleMotion(n){n.rotationRate&&this.rotationRate.set({alpha:n.rotationRate.alpha,beta:n.rotationRate.beta,gamma:n.rotationRate.gamma})}normalizeAngle(n,t=360){return t===360?(n%360+360)%360:Math.max(-t,Math.min(t,n))}totalVelocity(){let n=this.rotationRate();return n.alpha===null||n.beta===null||n.gamma===null?0:Math.sqrt((n.alpha||0)**2+(n.beta||0)**2+(n.gamma||0)**2)}isRotating(){return this.totalVelocity()>5}getRotationState(){let n=this.totalVelocity();return n>50?"\u{1F32A}\uFE0F Spinning Fast":n>20?"\u{1F504} Rotating":n>5?"\u21BB Slow Turn":"\u{1F634} Still"}getSphereTransform(){let n=this.rotation();return`rotateZ(${n.alpha}deg) rotateX(${n.beta}deg) rotateY(${n.gamma}deg)`}resetCalibration(){let n=this.rotation();this.calibrationOffset={alpha:n.alpha+this.calibrationOffset.alpha,beta:n.beta+this.calibrationOffset.beta,gamma:n.gamma+this.calibrationOffset.gamma},this.rotation.set({alpha:0,beta:0,gamma:0})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=_({type:r,selectors:[["app-gyroscope"]],decls:6,vars:1,consts:[[1,"gyroscope"],[1,"error"],[1,"permission-request"],[1,"sensor-container"],[1,"permission-btn",3,"click"],[1,"rotation-visualization"],[1,"gyro-display"],[1,"rotation-sphere"],[1,"sphere-inner"],[1,"rotation-rings"],[1,"ring","ring-x"],[1,"ring","ring-y"],[1,"ring","ring-z"],[1,"rotation-bars"],[1,"rotation-bar"],[1,"bar-container"],[1,"bar","alpha-bar"],[1,"bar","beta-bar"],[1,"bar","gamma-bar"],[1,"readings"],[1,"reading","primary"],[1,"velocity-value"],[1,"reading"],[1,"rate-section"],[1,"gyro-info"],[1,"info-grid"],[1,"info-item"],[1,"controls"],[1,"reset-btn",3,"click"],[1,"rate-readings"],[1,"rate-reading"],[1,"rate-indicator"]],template:function(t,p){t&1&&(i(0,"div",0)(1,"h1"),o(2,"\u{1F504} Gyroscope"),e(),u(3,M,3,0,"div",1)(4,P,5,0,"div",2)(5,y,82,31,"div",3),e()),t&2&&(a(3),f(p.supported()?p.hasPermission()?5:4:3))},styles:[".gyroscope[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:2rem;text-align:center}.error[_ngcontent-%COMP%], .permission-request[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:2rem;border-radius:1rem;margin:2rem 0;text-align:center}.permission-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:1rem 2rem;border-radius:.5rem;font-size:1rem;cursor:pointer;margin-top:1rem}.sensor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.rotation-visualization[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:2rem;box-shadow:0 4px 20px #0000001a}.gyro-display[_ngcontent-%COMP%]{position:relative;height:300px;display:flex;justify-content:center;align-items:center;margin-bottom:2rem;perspective:1000px}.rotation-sphere[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;z-index:10}.sphere-inner[_ngcontent-%COMP%]{font-size:3rem;color:#fff;transition:transform .1s ease-out;transform-style:preserve-3d}.rotation-rings[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.ring[_ngcontent-%COMP%]{position:absolute;border:3px solid;border-radius:50%;top:50%;left:50%}.ring-x[_ngcontent-%COMP%]{width:200px;height:200px;border-color:#dc3545;transform:translate(-50%,-50%) rotateY(90deg);margin-top:-100px;margin-left:-100px}.ring-y[_ngcontent-%COMP%]{width:160px;height:160px;border-color:#28a745;transform:translate(-50%,-50%);margin-top:-80px;margin-left:-80px}.ring-z[_ngcontent-%COMP%]{width:240px;height:240px;border-color:#007bff;transform:translate(-50%,-50%) rotateX(90deg);margin-top:-120px;margin-left:-120px}.rotation-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.rotation-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.rotation-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;min-width:100px;color:#333}.bar-container[_ngcontent-%COMP%]{flex:1;height:30px;background:#e9ecef;border-radius:15px;position:relative;overflow:hidden}.bar[_ngcontent-%COMP%]{height:100%;border-radius:15px;transition:width .1s ease-out;min-width:2px}.alpha-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#007bff,#3498db)}.beta-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#dc3545,#e74c3c)}.gamma-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#28a745,#34ce57)}.rotation-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;min-width:80px;text-align:right;color:#333}.readings[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.reading[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:.5rem;box-shadow:0 2px 10px #0000001a;display:flex;justify-content:space-between;align-items:center}.reading.primary[_ngcontent-%COMP%]{grid-column:1 / -1;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.reading[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.reading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.velocity-value[_ngcontent-%COMP%]{font-size:1.5rem!important}.reading[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#28a745}.reading.primary[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 10px rgba(255,255,255,.5)}.rate-section[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:2rem;box-shadow:0 4px 20px #0000001a}.rate-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.rate-readings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.rate-reading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f8f9fa;border-radius:.5rem}.rate-reading[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;min-width:100px}.rate-reading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-weight:700}.rate-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background:#dee2e6;transition:background-color .3s ease}.rate-indicator.active[_ngcontent-%COMP%]{background:#28a745;box-shadow:0 0 10px #28a74580}.gyro-info[_ngcontent-%COMP%]{background:#e8f4fd;border-radius:1rem;padding:2rem}.gyro-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:.5rem;color:#333}.controls[_ngcontent-%COMP%]{text-align:center}.reset-btn[_ngcontent-%COMP%]{background:#17a2b8;color:#fff;border:none;padding:1rem 2rem;border-radius:.5rem;font-size:1rem;cursor:pointer}.reset-btn[_ngcontent-%COMP%]:hover{background:#138496}@media (max-width: 768px){.gyroscope[_ngcontent-%COMP%]{padding:1rem}.readings[_ngcontent-%COMP%], .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.gyro-display[_ngcontent-%COMP%]{height:250px}.rotation-sphere[_ngcontent-%COMP%]{width:100px;height:100px}.sphere-inner[_ngcontent-%COMP%]{font-size:2.5rem}.ring-x[_ngcontent-%COMP%]{width:160px;height:160px;margin-top:-80px;margin-left:-80px}.ring-y[_ngcontent-%COMP%]{width:120px;height:120px;margin-top:-60px;margin-left:-60px}.ring-z[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:-100px;margin-left:-100px}.rotation-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.rotation-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:auto}.rotation-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;min-width:auto}}"]})};export{C as GyroscopeComponent};
