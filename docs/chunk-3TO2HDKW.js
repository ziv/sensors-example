import{Ja as E,Ka as b,Ta as i,U as h,Ua as t,V as u,Wa as v,Ya as f,Za as g,aa as d,bb as L,cb as a,eb as n,fb as c,gb as p,na as r,xa as x}from"./chunk-DEVMJMW7.js";function _(s,e){s&1&&(i(0,"div",1)(1,"p"),n(2,"\u26A0\uFE0F Ambient Light Sensor is not supported on this device"),t(),i(3,"small"),n(4,"This sensor requires specific hardware and browser support"),t()())}function M(s,e){if(s&1){let o=v();i(0,"div",2)(1,"p"),n(2,"This app needs permission to access the ambient light sensor."),t(),i(3,"button",4),f("click",function(){h(o);let m=g();return u(m.requestPermission())}),n(4," Grant Permission "),t()()}}function S(s,e){if(s&1){let o=v();i(0,"div",3)(1,"div",5)(2,"div",6),n(3,"\u{1F4A1}"),t(),i(4,"div",7)(5,"span",8),n(6),t(),i(7,"span",9),n(8,"lux"),t()()(),i(9,"div",10)(10,"h3"),n(11),t(),i(12,"p"),n(13),t()(),i(14,"div",11)(15,"div",12)(16,"label"),n(17,"Current Level:"),t(),i(18,"span"),n(19),t()(),i(20,"div",12)(21,"label"),n(22,"Min Recorded:"),t(),i(23,"span"),n(24),t()(),i(25,"div",12)(26,"label"),n(27,"Max Recorded:"),t(),i(28,"span"),n(29),t()(),i(30,"div",12)(31,"label"),n(32,"Environment:"),t(),i(33,"span"),n(34),t()()(),i(35,"div",13)(36,"div",14),n(37,"Light Levels Reference"),t(),i(38,"div",15)(39,"div",16)(40,"span",17),n(41,"0-1"),t(),i(42,"span",18),n(43,"Moonless Night"),t()(),i(44,"div",16)(45,"span",17),n(46,"1-10"),t(),i(47,"span",18),n(48,"Dim Room"),t()(),i(49,"div",16)(50,"span",17),n(51,"10-100"),t(),i(52,"span",18),n(53,"Living Room"),t()(),i(54,"div",16)(55,"span",17),n(56,"100-1000"),t(),i(57,"span",18),n(58,"Office/Classroom"),t()(),i(59,"div",16)(60,"span",17),n(61,"1k-10k"),t(),i(62,"span",18),n(63,"Cloudy Day"),t()(),i(64,"div",16)(65,"span",17),n(66,"10k+"),t(),i(67,"span",18),n(68,"Bright Sunlight"),t()()()(),i(69,"div",19)(70,"button",20),f("click",function(){h(o);let m=g();return u(m.resetMinMax())}),n(71," \u{1F504} Reset Min/Max "),t()()()}if(s&2){let o=g();r(),L("background-color",o.getLightColor()),r(5),c(o.lightLevel().toFixed(0)),r(5),c(o.getLightDescription().title),r(2),c(o.getLightDescription().description),r(6),p("",o.lightLevel().toFixed(1)," lux"),r(5),p("",o.minLevel().toFixed(1)," lux"),r(5),p("",o.maxLevel().toFixed(1)," lux"),r(5),c(o.getLightDescription().title),r(5),a("active",o.lightLevel()<1),r(5),a("active",o.lightLevel()>=1&&o.lightLevel()<10),r(5),a("active",o.lightLevel()>=10&&o.lightLevel()<100),r(5),a("active",o.lightLevel()>=100&&o.lightLevel()<1e3),r(5),a("active",o.lightLevel()>=1e3&&o.lightLevel()<1e4),r(5),a("active",o.lightLevel()>=1e4)}}var C=class s{supported=d(!1);hasPermission=d(!1);lightLevel=d(100);minLevel=d(Number.MAX_VALUE);maxLevel=d(0);sensor=null;ngOnInit(){this.checkSupport()}ngOnDestroy(){this.stopSensor()}checkSupport(){"AmbientLightSensor"in window?(this.supported.set(!0),this.requestPermission()):this.simulateLightSensor()}async requestPermission(){try{let e=await navigator.permissions.query({name:"ambient-light-sensor"});(e.state==="granted"||e.state==="prompt")&&(this.hasPermission.set(!0),this.startSensor())}catch(e){console.error("Permission error:",e),this.simulateLightSensor()}}startSensor(){try{this.sensor=new window.AmbientLightSensor({frequency:5}),this.sensor.addEventListener("reading",()=>{let e=this.sensor.illuminance;this.updateLightLevel(e)}),this.sensor.addEventListener("error",e=>{console.error("Sensor error:",e),this.simulateLightSensor()}),this.sensor.start()}catch(e){console.error("Failed to start sensor:",e),this.simulateLightSensor()}}stopSensor(){this.sensor&&(this.sensor.stop(),this.sensor=null)}simulateLightSensor(){this.supported.set(!0),this.hasPermission.set(!0),setInterval(()=>{let o=Math.random()*200-100,l=Math.sin(Date.now()/1e4)*100,m=Math.max(1,300+o+l);this.updateLightLevel(m)},1e3)}updateLightLevel(e){this.lightLevel.set(e),e<this.minLevel()&&this.minLevel.set(e),e>this.maxLevel()&&this.maxLevel.set(e)}getLightColor(){let e=this.lightLevel();return e<1?"#1a1a2e":e<10?"#16213e":e<100?"#0f3460":e<1e3?"#e94560":e<1e4?"#f39c12":"#f1c40f"}getLightDescription(){let e=this.lightLevel();return e<1?{title:"Moonless Night",description:"Extremely dark conditions with minimal light sources. Typical of outdoor areas on a moonless, cloudy night."}:e<10?{title:"Dim Indoor Lighting",description:"Very low light conditions, similar to a dimly lit room with minimal artificial lighting or candlelight."}:e<100?{title:"Comfortable Indoor",description:"Typical residential indoor lighting. Good for relaxing but may be insufficient for detailed tasks."}:e<1e3?{title:"Well-Lit Indoor",description:"Bright indoor conditions suitable for reading, working, or studying. Common in offices and well-lit homes."}:e<1e4?{title:"Overcast Daylight",description:"Outdoor daylight on a cloudy day, or very bright indoor lighting. Good for most visual tasks."}:{title:"Bright Sunlight",description:"Direct sunlight or very bright outdoor conditions. Excellent visibility but may cause glare."}}resetMinMax(){this.minLevel.set(this.lightLevel()),this.maxLevel.set(this.lightLevel())}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=x({type:s,selectors:[["app-light-sensor"]],decls:6,vars:1,consts:[[1,"light-sensor"],[1,"error"],[1,"permission-request"],[1,"sensor-container"],[1,"permission-btn",3,"click"],[1,"light-display"],[1,"light-bulb"],[1,"light-reading"],[1,"lux-value"],[1,"lux-unit"],[1,"light-description"],[1,"readings"],[1,"reading"],[1,"light-scale"],[1,"scale-title"],[1,"scale-items"],[1,"scale-item"],[1,"scale-range"],[1,"scale-label"],[1,"controls"],[1,"reset-btn",3,"click"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"h1"),n(2,"\u{1F4A1} Ambient Light Sensor"),t(),E(3,_,5,0,"div",1)(4,M,5,0,"div",2)(5,S,72,21,"div",3),t()),o&2&&(r(3),b(l.supported()?l.hasPermission()?5:4:3))},styles:[".light-sensor[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:2rem;text-align:center}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:2rem}.error[_ngcontent-%COMP%], .permission-request[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:2rem;border-radius:1rem;margin:2rem 0}.permission-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:1rem 2rem;border-radius:.5rem;font-size:1rem;cursor:pointer;margin-top:1rem}.sensor-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.light-display[_ngcontent-%COMP%]{padding:3rem;border-radius:1rem;border:3px solid #333;transition:background-color .5s ease;position:relative;overflow:hidden}.light-bulb[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;filter:drop-shadow(0 0 20px rgba(255,255,0,.7))}.light-reading[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;gap:.5rem}.lux-value[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#333;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.lux-unit[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.light-description[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 20px #0000001a}.light-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem;font-size:1.5rem}.light-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6}.readings[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.reading[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:.5rem;box-shadow:0 2px 10px #0000001a;display:flex;justify-content:space-between;align-items:center}.reading[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}.reading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#333}.light-scale[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 20px #0000001a}.scale-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333;margin-bottom:1rem}.scale-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.scale-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.7rem;border-radius:.5rem;background:#f8f9fa;transition:all .3s ease}.scale-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,gold,#ffed4e);color:#333;font-weight:700;transform:scale(1.02)}.scale-range[_ngcontent-%COMP%]{font-weight:700;min-width:80px;text-align:left}.scale-label[_ngcontent-%COMP%]{flex:1;text-align:right}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center}.reset-btn[_ngcontent-%COMP%]{background:#17a2b8;color:#fff;border:none;padding:1rem 2rem;border-radius:.5rem;font-size:1rem;cursor:pointer}.reset-btn[_ngcontent-%COMP%]:hover{background:#138496}@media (max-width: 768px){.light-sensor[_ngcontent-%COMP%]{padding:1rem}.readings[_ngcontent-%COMP%]{grid-template-columns:1fr}.lux-value[_ngcontent-%COMP%]{font-size:2.5rem}.scale-items[_ngcontent-%COMP%]{gap:.3rem}.scale-item[_ngcontent-%COMP%]{padding:.5rem;flex-direction:column;text-align:center}.scale-range[_ngcontent-%COMP%]{min-width:auto;margin-bottom:.2rem}}"]})};export{C as LightSensorComponent};
